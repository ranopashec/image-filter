# Документация разработчика

## Текст программы

### Наименование программы

**ImageProcessor** — приложение для загрузки, обработки и отображения изображений с использованием библиотек OpenCV, Pillow и Tkinter на языке Python.

### Область применения

Программа предназначена для выполнения различных операций над изображениями, таких как улучшение резкости и морфологические операции (эрозия, дилатация, открытие и закрытие). Она может быть использована для обработки изображений в учебных целях, а также для демонстрации работы алгоритмов в реальном времени.

### Назначение программы

- Реализация и визуализация следующих операций над изображениями:
  - Улучшение резкости изображения
  - Морфологические операции: эрозия, дилатация, открытие, закрытие
- Предоставление графического интерфейса пользователя (GUI) для взаимодействия с изображениями.
- Возможность загрузки и отображения изображений.

### Функциональные возможности

- Загрузка изображения из файловой системы.
- Улучшение резкости изображения с помощью фильтра.
- Применение морфологических операций с выбором типа операции и размера ядра.
- Отображение обработанного изображения в главном окне приложения.

## Описание программы

### Структура программы

- **ImageProcessor**: главный класс приложения, наследующийся от `Tk`.
  - **Методы инициализации**:
    - `__init__`: инициализация приложения, установка заголовка, размеров окна и вызов методов для создания виджетов и настроек.
    - `create_widgets`: создание элементов управления (кнопки, поля ввода, выпадающие меню).
  - **Методы обработки событий**:
    - `load_image`: загрузка изображения из файловой системы.
    - `sharpen_image`: улучшение резкости изображения.
    - `apply_morphological_operation`: применение морфологических операций к изображению.
    - `display_image`: отображение изображения в главном окне приложения.

### Используемые библиотеки и модули

- **tkinter**: стандартная библиотека Python для создания GUI-приложений.
- **cv2 (OpenCV)**: библиотека для компьютерного зрения и обработки изображений.
- **numpy**: библиотека для работы с массивами данных.
- **PIL (Pillow)**: библиотека для работы с изображениями.

### Логические структуры данных

- **Переменные класса**:
  - `self.image_path`: путь к загруженному изображению.
  - `self.original_image`: оригинальное изображение.
  - `self.processed_image`: обработанное изображение.
- **Виджеты интерфейса**:
  - Кнопки (`Button`) для загрузки изображения, улучшения резкости и применения морфологических операций.
  - Поля ввода (`Entry`) для ввода размера ядра.
  - Выпадающее меню (`OptionMenu`) для выбора типа морфологической операции.
  - Метка (`Label`) для отображения изображения.

### Взаимодействие с пользователем

- Пользователь выбирает изображение для загрузки с помощью кнопки "Load Image".
- Нажимает кнопку "Sharpen Image" для улучшения резкости изображения.
- Выбирает тип морфологической операции и размер ядра, затем нажимает кнопку "Apply Morphological Operation" для применения операции.
- Результаты обработки изображения отображаются в главном окне приложения.

## Инструкция по установке и запуску

### Требования к системе

- **Python** версии 3.6 и выше.
- Операционная система с поддержкой Python и Tkinter (Windows, macOS, Linux).

### Установка

1. **Убедитесь, что установлен Python**:

   ```bash
   python --version
   ```

2. **Проверьте наличие Tkinter**:

   Попробуйте запустить простой скрипт с импортом Tkinter. Если возникнет ошибка, установите Tkinter:

   - **Для Ubuntu/Debian**:

     ```bash
     sudo apt-get install python3-tk
     ```

   - **Для других систем**:

     Следуйте официальной документации для установки Tkinter.

3. **Установите необходимые библиотеки**:

   ```bash
   pip install opencv-python pillow numpy
   ```

### Запуск программы

1. **Сохраните код программы** в файл с расширением `.py`, например, `image_processor.py`.

2. **Запустите программу** из командной строки:

   ```bash
   python image_processor.py
   ```

   Или, если используется Python 3:

   ```bash
   python3 image_processor.py
   ```

## Инструкция пользователя

1. **Загрузите изображение**, нажав кнопку "Load Image" и выбрав нужное изображение.

2. **Улучшите резкость изображения**, нажав кнопку "Sharpen Image".

3. **Выберите тип морфологической операции** из выпадающего меню и введите размер ядра.

4. **Примените морфологическую операцию**, нажав кнопку "Apply Morphological Operation".

5. **Просмотрите результат** в главном окне приложения.

## Требования к техническим характеристикам

- **Процессор**: с тактовой частотой не менее 1 ГГц.
- **Оперативная память**: не менее 512 МБ.
- **Дисплей**: с разрешением не менее 1024x768 пикселей.

## Обработка ошибок

- Программа предусматривает обработку ошибок при загрузке изображения и применении операций. Если возникает ошибка, она выводится в консоль (терминал), откуда был запущен скрипт.
- При попытке применить операцию к не загруженному изображению, программа не выполняет действие и ожидает загрузки изображения.

## Дополнительные сведения

### Морфологические операции

- **Эрозия**: уменьшает объекты на изображении.
- **Дилатация**: увеличивает объекты на изображении.
- **Открытие**: удаляет мелкие объекты и шум.
- **Закрытие**: заполняет небольшие отверстия в объектах.

### Улучшение резкости

- Для улучшения резкости изображения используется фильтр с ядром:
  ```python
  kernel = np.array([[0, -1, 0], [-1, 5, -1], [0, -1, 0]], np.float32)
  ```

## Сопровождение и развитие

- Код программы хорошо структурирован и снабжен комментариями, что облегчает его поддержку и развитие.
- Для добавления новых операций можно расширять класс `ImageProcessor`, добавляя соответствующие методы и элементы управления.

## Ссылки на используемые стандарты

При разработке документации учтены требования следующих стандартов:

- **ГОСТ 19.101-77** — Виды программ и программных документов.
- **ГОСТ 19.402-78** — Описание программы.
- **ГОСТ 19.501-78** — Формуляр. Требования к содержанию и оформлению.
- **ГОСТ 19.505-79** — Руководство оператора.
- **ГОСТ 19.404-79** — Пояснительная записка. Требования к содержанию и оформлению.

## Заключение

Данная программа предоставляет удобный инструмент для обработки изображений. Структура кода и документация соответствуют стандартам, что облегчает дальнейшее сопровождение и развитие приложения.
